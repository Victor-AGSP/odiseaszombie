/* Paleta: rojo, negro, blanco â€” temÃ¡tica zombie, animaciones y apariciÃ³n escalonada */
:root {
  --bg-dark: #060606; /* casi negro */
  --panel: #0e0e0f;
  --white: #f8f8f8;
  --muted: #9aa3a6;
  --red: #d32f2f; /* sangre */
  --red-dim: rgba(211,47,47,0.15);
  --green-ish: #7bd34a; /* putrefacto */
  --glass: rgba(255,255,255,0.03);
}

* { box-sizing: border-box; }
html,body,#root, .app-root { height: 100vh; margin: 0; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background-color: var(--bg-dark);
  color: var(--white);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Sutil textura de sangre y manchas */
  background-image:
    radial-gradient(rgba(211,47,47,0.03) 1px, transparent 1px),
    radial-gradient(rgba(0,0,0,0.2) 1px, transparent 1px),
    linear-gradient(180deg, rgba(255,255,255,0.02), transparent 30%);
  background-size: 300px 300px, 60px 60px, 100% 100%;
}

.app-root { display:flex; flex-direction:column; min-height:100vh; }
.app-header {
  position:relative; z-index:2; width:100%; display:flex; align-items:center; gap:12px; padding:18px 28px; border-bottom:1px solid rgba(255,255,255,0.02);
}
.app-logo { width:56px; height:56px; filter: saturate(0.3) hue-rotate(-30deg) brightness(0.9); border-radius:8px; }
.title h1 { margin:0; font-size:24px; letter-spacing:1px; color:var(--red); text-shadow: 0 4px 18px rgba(211,47,47,0.12); }
.tag { font-size:12px; color:var(--muted); }

.app-main { display:none; } /* legacy: hide older main if used */

/* Page wrapper: ensure the menu page occupies full viewport and centers content */
.menu-page { height:100vh; display:flex; align-items:center; justify-content:center; background-color:var(--bg-dark); }

/* Ensure the menu container is centered and has a clear max width */
.menu { width:100%; display:flex; align-items:center; justify-content:center; }

/* Menu card: fixed centered box inside the page */
.menu-card { width:100%; max-width:520px; background: linear-gradient(180deg, rgba(0,0,0,0.22), rgba(255,255,255,0.02)); padding:26px; border-radius:12px; box-shadow: 0 18px 50px rgba(0,0,0,0.7); border:1px solid rgba(255,255,255,0.03); }

/* Make the list take full width but keep buttons centered inside */
.menu .menu-list { width:100%; max-width:520px; display:flex; flex-direction:column; gap:18px; padding:0; margin:0; }
.menu .menu-list li { list-style:none; }

/* Default: no pop-in animation unless .animate-in is present */
.menu .menu-list li { animation: none; opacity:1; transform:none; }
.menu.animate-in .menu-list li { opacity:0; transform: scale(0.75) translateY(10px); animation: pop-in 420ms cubic-bezier(.2,.9,.2,1) forwards; }

/* Ensure button hover/active only affects the button itself and doesn't retrigger li animation */
.menu-button { will-change: transform, box-shadow; }
.menu-button:hover { transform: translateY(-6px) scale(1.01); }

/* Panels animate only when they have .animate-in (kept as before) */
.panel { opacity:1; transform:none; }
.panel.animate-in { opacity:0; transform: translateY(12px) scale(.99); animation: panel-in .36s cubic-bezier(.2,.9,.2,1) forwards; }

.menu-button {
  width:100%; padding:16px 18px; background:linear-gradient(90deg, rgba(0,0,0,0.25), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.03); color:var(--white); text-align:left; border-radius:10px; cursor:pointer; transition: transform .14s ease, box-shadow .14s ease, background .14s ease; font-size:17px;
  display:flex; align-items:center; gap:12px;
}
.menu-button::before {
  content: '';
  width:10px; height:10px; border-radius:3px; background:transparent; transition:background .12s ease, transform .12s ease; transform:translateY(0);
}
.menu-button.active { background: linear-gradient(90deg, rgba(211,47,47,0.12), rgba(139,211,70,0.03)); border-color: rgba(211,47,47,0.2); box-shadow: 0 8px 30px rgba(211,47,47,0.06); transform: translateY(-4px) scale(1.02); }
.menu-button.active::before { background: var(--red); transform: translateY(-1px) rotate(-15deg); }
.menu-button:hover { transform: translateY(-6px); box-shadow: 0 12px 40px rgba(0,0,0,0.7); }
.menu-button:active { transform: translateY(-2px) scale(.995); }
.hint { margin-top:10px; color:var(--muted); font-size:13px; }

/* Panels */
.panel { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); padding:20px; border-radius:12px; box-shadow: 0 10px 40px rgba(0,0,0,0.6); animation: panel-in .36s cubic-bezier(.2,.9,.2,1); }
.panel h3 { margin-top:0; color:var(--green-ish); }

.actions { display:flex; gap:10px; margin-top:16px; }
.primary { background: linear-gradient(180deg, var(--red), #b72626); color:var(--white); border:none; padding:10px 14px; border-radius:10px; cursor:pointer; box-shadow: 0 8px 20px rgba(211,47,47,0.18); transition: transform .12s ease, box-shadow .12s ease; }
.primary:hover { transform: translateY(-6px) scale(1.03); box-shadow: 0 18px 40px rgba(211,47,47,0.22); }

button { font:inherit; }
.chip { background: transparent; border:1px solid rgba(255,255,255,0.04); padding:8px 10px; border-radius:999px; cursor:pointer; color:var(--white); transition: all .12s ease; }
.chip.selected { background: var(--red-dim); border-color: rgba(211,47,47,0.22); box-shadow: inset 0 -4px 20px rgba(0,0,0,0.4); }

.save-list { list-style:none; padding:0; margin:8px 0 0 0; display:flex; flex-direction:column; gap:8px; }
.save-item { display:flex; justify-content:space-between; gap:12px; align-items:center; padding:10px; border-radius:10px; background: linear-gradient(180deg, rgba(0,0,0,0.22), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.02); }
.save-actions { display:flex; gap:8px; }
.danger { background: transparent; border:1px solid rgba(211,47,47,0.22); color:var(--red); padding:6px 8px; border-radius:8px; cursor:pointer; }
.muted { color:var(--muted); font-size:13px; }

.game-view p { margin:6px 0; }

/* Decorative blood drip at the bottom of the container */
.menu::after, .panel::after {
  content: '';
  display:block; height:18px; margin-top:12px; background-image: radial-gradient(circle at 10% 10%, rgba(211,47,47,0.16) 8%, transparent 9%), radial-gradient(circle at 85% 50%, rgba(211,47,47,0.12) 8%, transparent 9%);
  border-radius: 0 0 12px 12px; opacity:0.95;
}

/* Animations */
@keyframes pop-in {
  from { opacity:0; transform: scale(.7) translateY(8px); }
  to { opacity:1; transform: scale(1) translateY(0); }
}

@keyframes panel-in {
  from { opacity:0; transform: translateY(12px) scale(.99); }
  to { opacity:1; transform: translateY(0) scale(1); }
}

@keyframes title-pulse {
  0% { text-shadow: 0 6px 22px rgba(211,47,47,0.06); transform: translateY(0); }
  50% { text-shadow: 0 14px 38px rgba(211,47,47,0.16); transform: translateY(-3px) rotate(-0.6deg); }
  100% { text-shadow: 0 6px 22px rgba(211,47,47,0.06); transform: translateY(0); }
}

/* Make background more thematic: vignette + subtle ruined city silhouette */
body::before {
  content: '';
  position: fixed;
  left: 0; right: 0; top: 0; bottom: 0; z-index: 0;
  pointer-events: none;
  background-image: radial-gradient(ellipse at 10% 20%, rgba(217,76,61,0.04), transparent 10%),
                    linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.7));
}

/* Menu card decoration: hazard tape on top and torn edge */
.menu-card { position: relative; overflow: visible; }
.menu-card::before {
  content: 'PELIGRO: ZOMBIES';
  position: absolute; left: 12px; right: 12px; top: -18px; height: 24px;
  background: repeating-linear-gradient(45deg, #c42e2e 0 6px, #1b1b1b 6px 12px);
  color: #fff; font-weight:700; font-size:12px; display:flex; align-items:center; justify-content:center; letter-spacing:1px; border-radius:6px; box-shadow: 0 6px 12px rgba(0,0,0,0.6);
}
.menu-card::after {
  content: '';
  position: absolute; left: 6px; right: 6px; bottom: -10px; height:18px; border-radius:8px; background-image: radial-gradient(circle at 20% 20%, rgba(211,47,47,0.14), transparent 8%), radial-gradient(circle at 80% 60%, rgba(211,47,47,0.1), transparent 8%); opacity:0.95;
}

/* Title styling: survival stencil look */
.menu-card h2 { font-family: 'Oswald', Impact, sans-serif; font-weight:700; color:var(--red); margin-bottom:6px; text-transform:uppercase; letter-spacing:2px; }
.subtitle { color: #dbe6d9; opacity:0.9; margin-bottom:12px; }

/* Button icons/emojis per item to add context */
.menu-button { position: relative; padding-left:46px; }
.menu-button::before { content: ''; position: absolute; left:14px; width:20px; height:20px; display:inline-flex; align-items:center; justify-content:center; font-size:16px; }
.menu .menu-list li:nth-child(1) .menu-button::before { content: 'ðŸ›¡ï¸'; }
.menu .menu-list li:nth-child(2) .menu-button::before { content: 'ðŸ’¾'; }
.menu .menu-list li:nth-child(3) .menu-button::before { content: 'âš™ï¸'; }
.menu .menu-list li:nth-child(4) .menu-button::before { content: 'ðŸŽ¬'; }
.menu .menu-list li:nth-child(5) .menu-button::before { content: 'â›”'; }

/* Hover: small red glow and smear */
.menu-button:hover { box-shadow: 0 18px 40px rgba(211,47,47,0.14); }
.menu-button.active { box-shadow: 0 20px 50px rgba(139,0,0,0.22); }

/* Add subtle blood splatter behind the active button */
.menu .menu-list li:nth-child(5) .menu-button.active { background-image: linear-gradient(90deg, rgba(211,47,47,0.14), rgba(0,0,0,0.02)); }

/* Increase spacing and emulate survival UI (labels, small separators) */
.menu-list { gap:20px; }
.menu-card { border-left:4px solid rgba(139,0,0,0.25); }

/* Footer note style inside card (if added later) */
.menu-card .hint { text-align:center; margin-top:14px; opacity:0.85; }

/* Ensure no striped background by default (allow hover to add subtle accents) */
.menu .menu-list li .menu-button { background-image: none; }

/* Hover: soft green -> red translucent gradient for survival look (restored) */
.menu .menu-list li .menu-button:hover {
  background: linear-gradient(90deg, rgba(139,211,70,0.14), rgba(211,47,47,0.12));
  border-color: rgba(211,47,47,0.12);
  color: var(--white);
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 14px 36px rgba(0,0,0,0.5), inset 0 -4px 12px rgba(0,0,0,0.12);
  text-shadow: 0 2px 2px rgba(0,0,0,0.6);
}

/* Keep active/selected visual but avoid heavy stripes */
.menu .menu-list li .menu-button.active { box-shadow: 0 18px 40px rgba(0,0,0,0.6); transform: translateY(-4px) scale(1.01); }

/* small screens adjustments */
@media (max-width:520px) {
  .menu, .panel { width: 92vw; padding:14px; }
  .app-logo { width:44px; height:44px; }
  .menu h2 { font-size:22px; }
}
